{"version":3,"sources":["../../Temp/App.Modules.js","../../Temp/App.Routes.js","../../Temp/Components/components.js","../../Temp/Components/Confetti/confetti.directive.js","../../Temp/Components/Uploader/uploader.js","../../Temp/Filters/minutes/minutes.js","../../Temp/Filters/todate/todate.js","../../Temp/Pages/Account/account.controller.js","../../Temp/Pages/Home/home.controller.js","../../Temp/Pages/Login/login.controller.js","../../Temp/Pages/Orders/order.controller.js","../../Temp/Pages/Orders/orders.controller.js","../../Temp/Pages/Users/user.controller.js","../../Temp/Services/Auth/auth.js","../../Temp/Services/Orders/orders.js","../../Temp/Services/Users/users.js"],"names":["bootstrapper","$rootScope","$localStorage","$cordovaGlobalization","config","$mdThemingProvider","theme","primaryPalette","$inject","angular","module","run","routeSetup","handleRoutes","$state","$on","event","toState","toParams","fromState","fromParams","error","go","$stateProvider","$urlRouterProvider","url","state","controller","templateUrl","resolve","currentAuth","$requireSignIn","Auth","$waitForSignIn","abstract","template","restrict","confettiDirective","$timeout","y","color","this","d","Math","random","mp","H","tilt","RandomFromTo","tiltAngleIncremental","tiltAngle","draw","ctx","strokeStyle","moveTo","lineTo","x","r","W","window","innerHeight","canvas","getContext","height","InitializeConfetti","particles","i","StartConfetti","push","confettiParticle","particleColor","Draw","clearRect","results","j","Update","floor","to","from","angle","particle","confettiActive","remainingFlakes","CheckForReposition","index","repositionParticle","sin","particleIndex","cos","xCoordinate","yCoordinate","animloop","width","animationComplete","animationHandler","requestAnimFrame","ClearTimers","clearTimeout","DeactivateConfetti","StopConfetti","reactivationTimerHandler","deactivationTimerHandler","particleColors","colorIncrementer","getColor","colorIndex","colorOptions","length","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","link","scope","duration","storage","console","handleFiles","element","fileList","files","bind","uploader","file","Thumbnail","maxHeight","onSuccess","thumbnaildata","createThumbnail","ref","child","imagesRef","name","directive","storageRef","options","onError","maxWidth","detectVerticalSquash","uploaderDirective","firebase","alpha","py","sy","ih","undefined","elem","document","data","ey","ratio","drawImage","createElement","getImageData","prototype","createThumbnailFromVideoFile","type","match","createThumbnailFromImageFile","fileReader","readAsDataURL","addEventListener","createVideoThumbnailFromUrl","createObjectURL","canPlay","URL","appendChild","videoUrl","videoElem","style","body","canPlayType","removeChild","getThumbnailDataURL","videoWidth","videoHeight","imageElem","createThumbnailFromUrl","imageUrl","crossOrigin","info","srcWidth","srcHeight","trgWidth","trgHeight","srcRatio","optWidth","optHeight","trgRatio","srcX","srcY","vertSquashRatio","elemWidth","elemHeight","toDataURL","minutes","val","filter","accountController","$scope","firebaseUser","$getAuth","HomeController","$signOut","toggleNavigation","Users","$loaded","then","signout","user","uid","$mdSidenav","toggle","loginController","username","log","createUser","login","message","$createUserWithEmailAndPassword","email","password","$signInWithEmailAndPassword","catch","orderController","getMaterials","$q","$http","$stateParams","Orders","forEach","order","materials","material","createFilterFor","query","address","addrSearch","orders","addressParts","partIndex","materialSearch","selectAddress","addressPart","params","selectedItem","adresse","q","txt","querySearch","response","request","method","deferred","defer","startdate","id","$getRecord","saveOrder","Date","enddate","$save","toString","$id","$add","amount","newmaterial","materialSearchText","newtimereg","date","time","addTimereg","splice","currentUser","timeregistrations","getUsername","deleteTimereg","onFileUploaded","snapshot","ordersController","downloadUrl","padStart","timelist","title","hour","userController","userObj","updateProfile","displayName","$firebaseAuth","auth","$firebaseArray","factory","users","database"],"mappings":"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","file":"app.min.js","sourcesContent":["\"use strict\";\n\n(function () {\n\n    bootstrapper.$inject = [\"$rootScope\", \"$localStorage\", \"$cordovaGlobalization\"];\n    config.$inject = [\"$mdThemingProvider\"];\n    angular.module('App', ['app.templates', 'App.Services', 'App.Components', 'App.Filters', 'ui.router', 'ngMaterial', 'ngAnimate', 'ngSanitize', 'ngStorage', 'ngCordova', 'firebase']).run(bootstrapper).config(config);\n\n    function /*@ngInject*/bootstrapper($rootScope, $localStorage, $cordovaGlobalization) {}\n\n    function /*@ngInject*/config($mdThemingProvider) {\n        $mdThemingProvider.theme('default').primaryPalette('blue-grey');\n    }\n})();\n","\"use strict\";\n\n(function () {\n    routeSetup.$inject = [\"$stateProvider\", \"$urlRouterProvider\"];\n    handleRoutes.$inject = [\"$rootScope\", \"$state\"];\n    angular.module('App').config(routeSetup).run(handleRoutes);\n\n    function /*@ngInject*/handleRoutes($rootScope, $state) {\n        $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {\n            // We can catch the error thrown when the $requireSignIn promise is rejected\n            // and redirect the user back to the home page\n            if (error === 'AUTH_REQUIRED') {\n                $state.go('login');\n            }\n        });\n    }\n\n    function /*@ngInject*/routeSetup($stateProvider, $urlRouterProvider) {\n        //$urlRouterProvider.otherwise('/home');\n\n        $urlRouterProvider.otherwise('/home');\n\n        $stateProvider.state('home', {\n            url: '/home',\n            controller: 'HomeController',\n            templateUrl: 'Pages/Home/home.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$requireSignIn();\n                }]\n            }\n        }).state('login', {\n            url: '/login',\n            controller: 'LoginController',\n            templateUrl: 'Pages/Login/login.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$waitForSignIn();\n                }]\n            }\n        }).state('home.account', {\n            url: '/account',\n            controller: 'AccountController',\n            templateUrl: 'Pages/Account/account.tmpl.html'\n        }).state('home.users', {\n            url: '/users',\n            abstract: true,\n            controller: 'UserController',\n            template: '<ui-view />'\n        }).state('home.users.list', {\n            url: '/',\n            templateUrl: 'Pages/Users/list.tmpl.html'\n        }).state('home.users.add', {\n            url: '/users',\n            templateUrl: 'Pages/Users/add-user.tmpl.html'\n        }).state('home.orders', {\n            url: '/orders',\n            abstract: true,\n            controller: 'OrdersController',\n            template: '<ui-view />'\n        }).state('home.orders.list', {\n            url: '/',\n            templateUrl: 'Pages/Orders/orders.tmpl.html'\n        }).state('home.orders.add', {\n            url: '/add',\n            controller: 'OrderController',\n            templateUrl: 'Pages/Orders/add-order.tmpl.html'\n        }).state('home.orders.edit', {\n            url: '/edit/:id',\n            controller: 'OrderController',\n            templateUrl: 'Pages/Orders/add-order.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$waitForSignIn();\n                }]\n            }\n        }).state('home.orders.order', {\n            url: '/:id',\n            controller: 'OrderController',\n            templateUrl: 'Pages/Orders/order.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$waitForSignIn();\n                }]\n            }\n        }).state('home.orders.order.details', {\n            templateUrl: 'Pages/Orders/order.details.tmpl.html'\n        }).state('home.orders.order.materials', {\n            templateUrl: 'Pages/Orders/order.materials.tmpl.html'\n        }).state('home.orders.order.time', {\n            templateUrl: 'Pages/Orders/order.time.tmpl.html'\n        });\n    }\n})();\n","'use strict';\n\n(function () {\n    angular.module('App.Components', ['App.Components.Uploader']);\n})();\n","'use strict';\n\n(function () {\n\n    confettiDirective.$inject = [\"$timeout\"];\n    angular.module('App.Components.Confetti', ['app.templates']).directive('confetti', confettiDirective);\n\n    function /*@ngInject*/confettiDirective($timeout) {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'Components/Confetti/confetti.tpl.html',\n            link: link,\n            scope: {\n                duration: '@'\n            }\n        };\n\n        function link(scope, element, attr) {\n\n            scope.duration = scope.duration || 800;\n\n            //@see http://jsfiddle.net/Javalsu/vxP5q/743/?utm_source=website&utm_medium=embed&utm_campaign=vxP5q\n\n            // globals\n            var canvas;\n            var ctx;\n            var W;\n            var H;\n            var mp = 100; //max particles\n            var particles = [];\n            var angle = 0;\n            var tiltAngle = 0;\n            var confettiActive = true;\n            var animationComplete = true;\n            var deactivationTimerHandler;\n            var reactivationTimerHandler;\n            var animationHandler;\n\n            // objects\n\n            var particleColors = {\n                colorOptions: [\n                //Nordea colors\n                '#3AC1A3', '#FFE27C', '#FF5757', '#97CDFF', '#2C97FF', '#0000FF'],\n\n                colorIndex: 0,\n                colorIncrementer: 0,\n\n                getColor: function getColor() {\n                    if (this.colorIncrementer >= 10) {\n                        this.colorIncrementer = 0;\n                        this.colorIndex++;\n                        if (this.colorIndex >= this.colorOptions.length) {\n                            this.colorIndex = 0;\n                        }\n                    }\n                    this.colorIncrementer++;\n                    return this.colorOptions[this.colorIndex];\n                }\n            };\n\n            function confettiParticle(color) {\n\n                this.x = Math.random() * W; // x-coordinate\n                this.y = Math.random() * H - H; //y-coordinate\n                this.r = RandomFromTo(10, 30); //radius;\n                this.d = Math.random() * mp + 10; //density;\n                this.color = color;\n                this.tilt = Math.floor(Math.random() * 10) - 10;\n                this.tiltAngleIncremental = Math.random() * 0.07 + .05;\n                this.tiltAngle = 0;\n\n                this.draw = function () {\n                    ctx.beginPath();\n                    ctx.lineWidth = this.r / 2;\n                    ctx.strokeStyle = this.color;\n                    ctx.moveTo(this.x + this.tilt + this.r / 4, this.y);\n                    ctx.lineTo(this.x + this.tilt, this.y + this.tilt + this.r / 4);\n                    return ctx.stroke();\n                };\n            }\n\n            function SetGlobals() {\n                canvas = document.querySelectorAll('.confetti')[0];\n                ctx = canvas.getContext(\"2d\");\n                W = window.innerWidth;\n                H = window.innerHeight;\n                canvas.width = W;\n                canvas.height = H;\n            }\n\n            function InitializeConfetti() {\n                particles = [];\n                animationComplete = false;\n                for (var i = 0; i < mp; i++) {\n                    var particleColor = particleColors.getColor();\n                    particles.push(new confettiParticle(particleColor));\n                }\n                StartConfetti();\n            }\n\n            function Draw() {\n                ctx.clearRect(0, 0, W, H);\n                var results = [];\n                for (var i = 0; i < mp; i++) {\n                    (function (j) {\n                        results.push(particles[j].draw());\n                    })(i);\n                }\n                Update();\n\n                return results;\n            }\n\n            function RandomFromTo(from, to) {\n                return Math.floor(Math.random() * (to - from + 1) + from);\n            }\n\n            function Update() {\n                var remainingFlakes = 0;\n                var particle;\n                angle += 0.01;\n                tiltAngle += 0.1;\n\n                for (var i = 0; i < mp; i++) {\n                    particle = particles[i];\n                    if (animationComplete) return;\n\n                    if (!confettiActive && particle.y < -15) {\n                        particle.y = H + 100;\n                        continue;\n                    }\n\n                    stepParticle(particle, i);\n\n                    if (particle.y <= H) {\n                        remainingFlakes++;\n                    }\n                    CheckForReposition(particle, i);\n                }\n\n                if (remainingFlakes === 0) {\n                    StopConfetti();\n                }\n            }\n\n            function CheckForReposition(particle, index) {\n                if ((particle.x > W + 20 || particle.x < -20 || particle.y > H) && confettiActive) {\n                    if (index % 5 > 0 || index % 2 == 0) //66.67% of the flakes\n                        {\n                            repositionParticle(particle, Math.random() * W, -10, Math.floor(Math.random() * 10) - 10);\n                        } else {\n                        if (Math.sin(angle) > 0) {\n                            //Enter from the left\n                            repositionParticle(particle, -5, Math.random() * H, Math.floor(Math.random() * 10) - 10);\n                        } else {\n                            //Enter from the right\n                            repositionParticle(particle, W + 5, Math.random() * H, Math.floor(Math.random() * 10) - 10);\n                        }\n                    }\n                }\n            }\n\n            function stepParticle(particle, particleIndex) {\n                particle.tiltAngle += particle.tiltAngleIncremental;\n                particle.y += (Math.cos(angle + particle.d) + 3 + particle.r / 2) / 2;\n                particle.x += Math.sin(angle);\n                particle.tilt = Math.sin(particle.tiltAngle - particleIndex / 3) * 15;\n            }\n\n            function repositionParticle(particle, xCoordinate, yCoordinate, tilt) {\n                particle.x = xCoordinate;\n                particle.y = yCoordinate;\n                particle.tilt = tilt;\n            }\n\n            function StartConfetti() {\n                W = window.innerWidth;\n                H = window.innerHeight;\n                canvas.width = W;\n                canvas.height = H;\n                (function animloop() {\n                    if (animationComplete) return null;\n                    animationHandler = requestAnimFrame(animloop);\n                    return Draw();\n                })();\n            }\n\n            function ClearTimers() {\n                clearTimeout(reactivationTimerHandler);\n                clearTimeout(animationHandler);\n            }\n\n            //Deactivates confetti and lets it drift out of the screen\n            function DeactivateConfetti() {\n                confettiActive = false;\n                ClearTimers();\n            }\n\n            /**\n            * Stops confetti and removes it\n            */\n            function StopConfetti() {\n                animationComplete = true;\n                if (ctx === undefined) {\n                    return;\n                }\n                ctx.clearRect(0, 0, W, H);\n            }\n\n            window.requestAnimFrame = function () {\n                return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n            }();\n\n            //Kick start the party!\n            angular.element(document).ready(function () {\n\n                SetGlobals();\n                InitializeConfetti();\n\n                $timeout(function () {\n                    DeactivateConfetti();\n                }, scope.duration);\n            });\n        }\n\n        return directive;\n    }\n})();\n","'use strict';\n\n(function () {\n\n    uploaderDirective.$inject = [\"$timeout\"];\n    angular.module('App.Components.Uploader', []).directive('uploader', uploaderDirective);\n\n    function /*@ngInject*/uploaderDirective($timeout) {\n        var storage = firebase.storage();\n\n        // Create a storage reference from our storage service\n        var storageRef = storage.ref();\n        var imagesRef = storageRef.child('images');\n\n        var directive = {\n            restrict: 'A',\n            link: link,\n            scope: {\n                uploader: '&'\n            }\n        };\n\n        function link(scope, element, attr) {\n            console.log('link');\n            element[0].addEventListener('change', handleFiles.bind(this, scope.uploader), false);\n        }\n\n        function handleFiles(callback, event) {\n            var fileList = event.target.files; /* now you can work with the file list */\n\n            var _loop = function _loop() {\n                file = fileList[i];\n\n                var thumbnaildata = '';\n\n                new Thumbnail({\n                    maxWidth: 200,\n                    maxHeight: 200,\n                    file: file,\n                    onSuccess: function onSuccess(data) {\n                        thumbnaildata = data;\n                    }\n                }).createThumbnail();\n\n                var ref = imagesRef.child(file.name);\n                ref.put(file).then(function (snapshot) {\n                    callback()(snapshot, thumbnaildata, file.name, ref);\n                });\n            };\n\n            for (var i = 0; i < fileList.length; i++) {\n                var file;\n\n                _loop();\n            }\n        }\n\n        return directive;\n    }\n\n    function Thumbnail(options) {\n        this.options = {\n            file: options.file,\n            maxWidth: options.maxWidth || 120,\n            maxHeight: options.maxHeight || 120,\n            onError: options.onError && options.onError.bind(this),\n            onSuccess: options.onSuccess && options.onSuccess.bind(this)\n        };\n    };\n\n    Thumbnail.prototype.detectVerticalSquash = function (elem) {\n        if (elem.naturalHeight === undefined) {\n            return 1;\n        }\n        var alpha, canvas, ctx, data, ey, ih, py, ratio, sy;\n        ih = elem.naturalHeight;\n        canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = ih;\n        ctx = canvas.getContext('2d');\n        ctx.drawImage(elem, 0, 0);\n        data = ctx.getImageData(0, 0, 1, ih).data;\n        sy = 0;\n        ey = ih;\n        py = ih;\n        while (py > sy) {\n            alpha = data[(py - 1) * 4 + 3];\n            if (alpha === 0) {\n                ey = py;\n            } else {\n                sy = py;\n            }\n            py = ey + sy >> 1;\n        }\n        ratio = py / ih;\n        if (ratio === 0) {\n            return 1;\n        } else {\n            return ratio;\n        }\n    };\n\n    Thumbnail.prototype.createThumbnail = function () {\n        if (this.options.file.type.match(/image.*/)) {\n            this.createThumbnailFromImageFile();\n        } else if (this.options.file.type.match(/video.*/)) {\n            this.createThumbnailFromVideoFile();\n        } else if (this.options.onError) {\n            this.options.onError();\n        }\n    };\n\n    Thumbnail.prototype.createThumbnailFromImageFile = function () {\n        var fileReader = new FileReader();\n        fileReader.addEventListener('load', function () {\n            this.createThumbnailFromUrl(fileReader.result);\n        }.bind(this));\n        fileReader.readAsDataURL(this.options.file);\n    };\n\n    Thumbnail.prototype.createThumbnailFromVideoFile = function () {\n        this.createVideoThumbnailFromUrl(URL.createObjectURL(this.options.file));\n    };\n\n    Thumbnail.prototype.createVideoThumbnailFromUrl = function (videoUrl) {\n        var canPlay, videoElem;\n        videoElem = document.createElement('video');\n        videoElem.style = 'display: none';\n        document.body.appendChild(videoElem);\n        canPlay = videoElem.canPlayType(this.options.file.type);\n        if (canPlay === 'no' || canPlay === '') {\n            if (this.options.onError) {\n                this.options.onError();\n            }\n            return;\n        }\n        videoElem.addEventListener('loadeddata', function () {\n            if (this.options.onSuccess) {\n                this.options.onSuccess(this.getThumbnailDataURL(videoElem, videoElem.videoWidth, videoElem.videoHeight));\n            }\n            document.body.removeChild(videoElem);\n        }.bind(this), false);\n        videoElem.addEventListener('error', function () {\n            if (this.options.onError) {\n                this.options.onError();\n            }\n            document.body.removeChild(videoElem);\n        }.bind(this), false);\n        videoElem.src = videoUrl;\n    };\n\n    Thumbnail.prototype.createThumbnailFromUrl = function (imageUrl, crossOrigin) {\n        var imageElem = document.createElement('img');\n        if (crossOrigin) {\n            imageElem.crossOrigin = crossOrigin;\n        }\n        if (this.options.onSuccess) {\n            imageElem.onload = function () {\n                this.options.onSuccess(this.getThumbnailDataURL(imageElem, imageElem.width, imageElem.height));\n            }.bind(this);\n        }\n        if (this.options.onError) {\n            imageElem.onerror = this.options.onError;\n        }\n        imageElem.src = imageUrl;\n    };\n\n    Thumbnail.prototype.getResizeInformation = function (srcWidth, srcHeight) {\n        var info = {\n            srcX: 0,\n            srcY: 0,\n            srcWidth: srcWidth,\n            srcHeight: srcHeight,\n            trgWidth: undefined,\n            trgHeight: undefined\n        };\n        var srcRatio = srcWidth / srcHeight;\n        var optWidth = this.options.maxWidth;\n        var optHeight = this.options.maxHeight;\n        if (!optWidth && !optHeight) {\n            optWidth = info.srcWidth;\n            optHeight = info.srcHeight;\n        } else if (!optWidth) {\n            optWidth = srcRatio * optHeight;\n        } else if (!optHeight) {\n            optHeight = 1 / srcRatio * optWidth;\n        }\n        var trgRatio = optWidth / optHeight;\n        if (srcHeight < optHeight || srcWidth < optWidth) {\n            // this code fails if only one src is below opt\n            info.trgHeight = info.srcHeight;\n            info.trgWidth = info.srcWidth;\n        } else {\n            if (srcRatio > trgRatio) {\n                info.srcHeight = srcHeight;\n                info.srcWidth = info.srcHeight * trgRatio;\n            } else {\n                info.srcWidth = srcWidth;\n                info.srcHeight = info.srcWidth / trgRatio;\n            }\n        }\n        info.srcX = (srcWidth - info.srcWidth) / 2;\n        info.srcY = (srcHeight - info.srcHeight) / 2;\n        if (info.trgWidth === undefined) {\n            info.trgWidth = optWidth;\n        }\n        if (info.trgHeight === undefined) {\n            info.trgHeight = optHeight;\n        }\n        return info;\n    };\n\n    Thumbnail.prototype.getThumbnailDataURL = function (elem, elemWidth, elemHeight) {\n        var vertSquashRatio = this.detectVerticalSquash(elem);\n        var info = this.getResizeInformation(elemWidth, elemHeight);\n        var canvas = document.createElement('canvas');\n        canvas.width = info.trgWidth;\n        canvas.height = info.trgHeight;\n        canvas.getContext('2d').drawImage(elem, info.srcX, info.srcY, info.srcWidth, info.srcHeight, 0, 0, info.trgWidth, info.trgHeight / vertSquashRatio);\n        return canvas.toDataURL('image/png');\n    };\n})();\n","'use strict';\n\n(function () {\n\n    angular.module('App.Filters.Minutes', []).filter('minutes', minutes);\n\n    function /*@ngInject*/minutes() {\n\n        return function (val) {\n\n            if (!val) {\n                return '00:00';\n            }\n\n            return Math.floor(val / 60).toString().padStart(2, '0') + ':' + (val % 60).toString().padStart(2, '0');\n        };\n    }\n\n    return minutes;\n})();\n","'use strict';\n\n(function () {\n\n    angular.module('App.Filters.ToDate', []).filter('todate', minutes);\n\n    function /*@ngInject*/minutes() {\n\n        return function (val) {\n\n            if (!val) {\n                return '';\n            }\n\n            return new Date(val);\n        };\n    }\n\n    return minutes;\n})();\n","\"use strict\";\n\n(function () {\n    accountController.$inject = [\"$scope\", \"$state\", \"Auth\"];\n    angular.module('App').controller('AccountController', accountController);\n\n    function /*@ngInject*/accountController($scope, $state, Auth) {\n        $scope.firebaseUser = Auth.$getAuth();\n\n        console.log($scope.firebaseUser);\n\n        $scope.signout = function () {\n            Auth.$signOut();\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    HomeController.$inject = [\"$scope\", \"$state\", \"Auth\", \"$mdSidenav\", \"Users\"];\n    angular.module('App').controller('HomeController', HomeController);\n\n    function /*@ngInject*/HomeController($scope, $state, Auth, $mdSidenav, Users) {\n        $scope.firebaseUser = Auth.$getAuth();\n\n        Users.$loaded().then(function (x) {\n            var user = Users.find(function (user) {\n                return user.uid === $scope.firebaseUser.uid;\n            });\n            $scope.username = user.name;\n        });\n\n        $scope.toggleNavigation = function () {\n            $mdSidenav('left').toggle();\n        };\n\n        $scope.signout = function () {\n            Auth.$signOut().then(function () {\n                $state.go('login');\n            });\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    loginController.$inject = [\"$scope\", \"$state\", \"Auth\"];\n    angular.module('App').controller('LoginController', loginController);\n\n    function /*@ngInject*/loginController($scope, $state, Auth) {\n        console.log(Auth);\n        $scope.createUser = function () {\n            $scope.message = null;\n            $scope.error = null;\n\n            // Create a new user\n            Auth.$createUserWithEmailAndPassword($scope.email, $scope.password).then(function (firebaseUser) {\n                $scope.message = \"User created with uid: \" + firebaseUser.uid;\n            }).catch(function (error) {\n                $scope.error = error;\n            });\n        };\n        $scope.login = function () {\n            $scope.message = null;\n            $scope.error = null;\n\n            // Create a new user\n            Auth.$signInWithEmailAndPassword($scope.email, $scope.password).then(function (firebaseUser) {\n                $state.go('home');\n            }).catch(function (error) {\n                $scope.error = error;\n            });\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    orderController.$inject = [\"$q\", \"$scope\", \"$state\", \"$http\", \"$stateParams\", \"Orders\", \"Auth\", \"Users\"];\n    angular.module('App').controller('OrderController', orderController);\n\n    var timelist = [];\n\n    for (var i = 0; i < 48; i++) {\n        var minutes = (i % 2 * 30).toString().padStart(2, '0');\n        var hour = Math.floor(i / 2).toString().padStart(2, '0');\n        timelist.push({ title: hour + ':' + minutes, minutes: i * 30 });\n    }\n\n    function /*@ngInject*/orderController($q, $scope, $state, $http, $stateParams, Orders, Auth, Users) {\n        $scope.orders = Orders;\n        $scope.timelist = timelist;\n        $scope.addrSearch = {};\n        $scope.currentNavItem = 'details';\n\n        var addressParts = ['vejnavne', 'adgangsadresser', 'adresser'];\n        var partIndex = 0;\n        var materials = [];\n        var currentUser = Auth.$getAuth();\n\n        function getMaterials() {\n            $scope.orders.forEach(function (order) {\n                order.materials.forEach(function (material) {\n                    if (materials.indexOf(material.name) === -1) {\n                        materials.push(material.name);\n                    }\n                });\n            });\n        }\n\n        $scope.materialSearch = function (query) {\n            var results = query ? materials.filter(createFilterFor(query)) : materials;\n            return results;\n        };\n\n        function createFilterFor(query) {\n            var lowercaseQuery = angular.lowercase(query);\n\n            return function filterFn(material) {\n                return material.indexOf(lowercaseQuery) === 0;\n            };\n        }\n\n        $scope.selectAddress = function () {\n            partIndex = partIndex == addressParts.length - 1 ? 0 : partIndex + 1;\n\n            if ($scope.addrSearch.selectedItem.adresse) {\n                $scope.orders.address = $scope.addrSearch.selectedItem.text;\n            }\n        };\n\n        $scope.querySearch = function (txt) {\n            var addressPart = addressParts[partIndex];\n\n            var request = {\n                url: 'http://dawa.aws.dk/' + addressPart + '/autocomplete',\n                method: 'GET',\n                params: {\n                    q: txt\n                }\n            };\n\n            var deferred = $q.defer();\n            $http(request).then(function (response) {\n                deferred.resolve(response.data);\n            });\n\n            return deferred.promise;\n        };\n\n        if ($stateParams.id) {\n            Orders.$loaded().then(function (x) {\n                getMaterials();\n                $scope.order = Orders.$getRecord($stateParams.id); // record with $id === \"foo\" or null;\n\n                if ($scope.order.startdate) {\n                    $scope.order.startdate = new Date($scope.order.startdate);\n                }\n                if ($scope.order.enddate) {\n                    $scope.order.enddate = new Date($scope.order.enddate);\n                }\n            });\n        } else {\n            $scope.order = {};\n        }\n\n        $scope.saveOrder = function () {\n            // prepare data\n            if ($scope.order.startdate && typeof $scope.order.startdate !== 'string') {\n                $scope.order.startdate = $scope.order.startdate.toString();\n            }\n            if ($scope.order.enddate && typeof $scope.order.enddate !== 'string') {\n                $scope.order.enddate = $scope.order.enddate.toString();\n            }\n\n            if ($scope.order.$id === undefined) {\n                Orders.$add($scope.order);\n                $state.go('^.list');\n            } else {\n                Orders.$save($scope.order);\n                $state.go('^.order', { id: $scope.order.$id });\n            }\n        };\n\n        $scope.deleteOrder = function () {\n            Orders.$remove($scope.order);\n            $state.go('^.list');\n        };\n\n        $scope.newmaterial = {\n            name: '',\n            amount: 0\n        };\n\n        $scope.addMaterial = function () {\n            $scope.newmaterial.name = $scope.newmaterial.name || $scope.newmaterial.materialSearchText;\n            delete $scope.newmaterial.materialSearchText;\n\n            if (!$scope.newmaterial.name || $scope.newmaterial.amount <= 0) {\n                return;\n            }\n\n            if (!$scope.order.materials) {\n                $scope.order.materials = [];\n            }\n\n            $scope.order.materials.push($scope.newmaterial);\n            Orders.$save($scope.order).then(function () {\n                $scope.newmaterial = {};\n            });\n        };\n\n        $scope.deleteMaterial = function (index) {\n            $scope.order.materials.splice(index, 1);\n            Orders.$save($scope.order);\n        };\n\n        $scope.newtimereg = {\n            date: new Date(),\n            time: 60,\n            description: ''\n\n        };\n\n        $scope.addTimereg = function () {\n\n            if ($scope.newtimereg.time <= 0) {\n                return;\n            }\n\n            $scope.newtimereg.user = currentUser.uid;\n\n            if (!$scope.order.timeregistrations) {\n                $scope.order.timeregistrations = [];\n            }\n\n            if ($scope.newtimereg.date && typeof $scope.newtimereg.date !== 'string') {\n                $scope.newtimereg.date = $scope.newtimereg.date.toString();\n            }\n\n            $scope.order.timeregistrations.push($scope.newtimereg);\n            Orders.$save($scope.order).then(function () {\n                $scope.newtimereg = {\n                    date: new Date(),\n                    time: 0,\n                    description: ''\n                };\n            });\n        };\n\n        $scope.deleteTimereg = function (index) {\n            $scope.order.timeregistrations.splice(index, 1);\n            Orders.$save($scope.order);\n        };\n\n        $scope.getUsername = function (uid) {\n            var user = Users.find(function (user) {\n                return user.uid === uid;\n            });\n\n            return user ? user.name : '----';\n        };\n\n        $scope.onFileUploaded = function (snapshot, thumbnaildata) {\n            if (!$scope.order.files) {\n                $scope.order.files = [];\n            }\n\n            $scope.order.files.push({\n                url: snapshot.downloadUrl,\n                thumbnail: thumbnaildata\n            });\n\n            console.log(snapshot, thumbnaildata);\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    ordersController.$inject = [\"$scope\", \"$state\", \"Orders\"];\n    angular.module('App').controller('OrdersController', ordersController);\n\n    function /*@ngInject*/ordersController($scope, $state, Orders) {\n        $scope.orders = Orders;\n\n        $scope.addOrder = function () {\n            $state.go('^.add');\n        };\n\n        $scope.openOrder = function (order) {\n            $state.go('^.order.details', { id: order.$id });\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    userController.$inject = [\"$scope\", \"$state\", \"Auth\", \"Users\"];\n    angular.module('App').controller('UserController', userController);\n\n    function /*@ngInject*/userController($scope, $state, Auth, Users) {\n        $scope.currentUser = Auth.$getAuth().uid;\n\n        console.log(Users);\n\n        $scope.users = Users;\n\n        $scope.user = {};\n\n        $scope.addUser = function () {\n            $state.go('^.add');\n        };\n\n        $scope.createUser = function () {\n            $scope.message = null;\n            $scope.error = null;\n\n            // Create a new user\n            Auth.$createUserWithEmailAndPassword($scope.user.email, $scope.user.password).then(function (firebaseUser) {\n                $scope.message = \"User created with uid: \" + firebaseUser.uid;\n                var userObj = {\n                    name: $scope.user.name,\n                    email: $scope.user.email,\n                    uid: firebaseUser.uid\n                };\n\n                Users.$add(userObj);\n                $scope.user = {};\n\n                firebaseUser.updateProfile({ displayName: $scope.user.name });\n\n                $state.go('^.list');\n            }).catch(function (error) {\n                $scope.error = error;\n            });\n        };\n\n        $scope.delete = function (user) {};\n    }\n})();\n","'use strict';\n\n(function () {\n  auth.$inject = [\"$firebaseAuth\"];\n  angular.module('App.Services.Auth', []).factory('Auth', auth);\n\n  function /*@ngInject*/auth($firebaseAuth) {\n    return $firebaseAuth();\n  }\n})();\n","'use strict';\n\n(function () {\n    orders.$inject = [\"$firebaseArray\"];\n    angular.module('App.Services.Orders', []).factory('Orders', orders);\n\n    function /*@ngInject*/orders($firebaseArray) {\n        var ref = firebase.database().ref().child('orders');\n        return $firebaseArray(ref);\n    }\n})();\n","'use strict';\n\n(function () {\n    users.$inject = [\"$firebaseArray\"];\n    angular.module('App.Services.Users', []).factory('Users', users);\n\n    function /*@ngInject*/users($firebaseArray) {\n        var ref = firebase.database().ref().child('users');\n        return $firebaseArray(ref);\n    }\n})();\n"]}