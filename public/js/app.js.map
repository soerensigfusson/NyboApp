{"version":3,"sources":["../../Temp/App.Modules.js","../../Temp/App.Routes.js","../../Temp/Components/components.js","../../Temp/Components/Confetti/confetti.directive.js","../../Temp/Components/Uploader/uploader.js","../../Temp/Filters/filters.js","../../Temp/Filters/minutes/minutes.js","../../Temp/Filters/todate/todate.js","../../Temp/Pages/Account/account.controller.js","../../Temp/Pages/Home/home.controller.js","../../Temp/Pages/Login/login.controller.js","../../Temp/Pages/Orders/order.controller.js","../../Temp/Pages/Orders/orders.controller.js","../../Temp/Pages/Users/user.controller.js","../../Temp/Services/Auth/auth.js","../../Temp/Services/Orders/orders.js","../../Temp/Services/services.js","../../Temp/Services/Users/users.js"],"names":["bootstrapper","$inject","config","angular","module","run","$rootScope","$localStorage","$cordovaGlobalization","$mdThemingProvider","theme","primaryPalette","routeSetup","handleRoutes","$state","$on","event","toState","toParams","fromState","fromParams","error","go","$stateProvider","$urlRouterProvider","otherwise","state","url","controller","templateUrl","resolve","Auth","$requireSignIn","$waitForSignIn","abstract","template","confettiDirective","directive","$timeout","restrict","link","scope","duration","element","attr","canvas","ctx","W","H","mp","particles","angle","tiltAngle","confettiActive","animationComplete","deactivationTimerHandler","reactivationTimerHandler","animationHandler","particleColors","colorOptions","colorIndex","colorIncrementer","getColor","length","confettiParticle","color","x","Math","random","y","r","RandomFromTo","d","tilt","floor","tiltAngleIncremental","draw","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","SetGlobals","document","querySelectorAll","getContext","window","innerWidth","innerHeight","width","height","InitializeConfetti","i","particleColor","push","StartConfetti","Draw","clearRect","results","j","Update","from","to","remainingFlakes","particle","stepParticle","CheckForReposition","StopConfetti","index","repositionParticle","sin","particleIndex","cos","xCoordinate","yCoordinate","animloop","requestAnimFrame","ClearTimers","clearTimeout","DeactivateConfetti","undefined","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","ready","uploaderDirective","storage","firebase","storageRef","ref","imagesRef","child","uploader","console","log","addEventListener","handleFiles","bind","fileList","target","files","file","thumbnaildata","Thumbnail","maxWidth","maxHeight","onSuccess","data","createThumbnail","name","put","then","snapshot","options","onError","prototype","detectVerticalSquash","elem","naturalHeight","alpha","ey","ih","py","ratio","sy","createElement","drawImage","getImageData","type","match","createThumbnailFromImageFile","createThumbnailFromVideoFile","fileReader","FileReader","createThumbnailFromUrl","result","readAsDataURL","createVideoThumbnailFromUrl","URL","createObjectURL","videoUrl","canPlay","videoElem","style","body","appendChild","canPlayType","getThumbnailDataURL","videoWidth","videoHeight","removeChild","src","imageUrl","crossOrigin","imageElem","onload","onerror","getResizeInformation","srcWidth","srcHeight","info","srcX","srcY","trgWidth","trgHeight","srcRatio","optWidth","optHeight","trgRatio","elemWidth","elemHeight","vertSquashRatio","toDataURL","filter","minutes","val","toString","padStart","Date","accountController","$scope","firebaseUser","$getAuth","signout","$signOut","HomeController","$mdSidenav","Users","$loaded","user","find","uid","username","toggleNavigation","toggle","loginController","createUser","message","$createUserWithEmailAndPassword","email","password","catch","login","$signInWithEmailAndPassword","orderController","timelist","hour","title","$q","$http","$stateParams","Orders","orders","addrSearch","currentNavItem","addressParts","partIndex","materials","currentUser","getMaterials","forEach","order","material","indexOf","materialSearch","query","createFilterFor","lowercaseQuery","lowercase","filterFn","selectAddress","selectedItem","adresse","address","text","querySearch","txt","addressPart","request","method","params","q","deferred","defer","response","promise","id","$getRecord","startdate","enddate","saveOrder","$id","$add","$save","deleteOrder","$remove","newmaterial","amount","addMaterial","materialSearchText","deleteMaterial","splice","newtimereg","date","time","description","addTimereg","timeregistrations","deleteTimereg","getUsername","onFileUploaded","downloadUrl","thumbnail","ordersController","addOrder","openOrder","userController","users","addUser","userObj","updateProfile","displayName","delete","auth","factory","$firebaseAuth","$firebaseArray","database"],"mappings":"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","file":"app.js","sourcesContent":["\"use strict\";\n\n(function () {\n\n    bootstrapper.$inject = [\"$rootScope\", \"$localStorage\", \"$cordovaGlobalization\"];\n    config.$inject = [\"$mdThemingProvider\"];\n    angular.module('App', ['app.templates', 'App.Services', 'App.Components', 'App.Filters', 'ui.router', 'ngMaterial', 'ngAnimate', 'ngSanitize', 'ngStorage', 'ngCordova', 'firebase']).run(bootstrapper).config(config);\n\n    function /*@ngInject*/bootstrapper($rootScope, $localStorage, $cordovaGlobalization) {}\n\n    function /*@ngInject*/config($mdThemingProvider) {\n        $mdThemingProvider.theme('default').primaryPalette('blue-grey');\n    }\n})();\n","\"use strict\";\n\n(function () {\n    routeSetup.$inject = [\"$stateProvider\", \"$urlRouterProvider\"];\n    handleRoutes.$inject = [\"$rootScope\", \"$state\"];\n    angular.module('App').config(routeSetup).run(handleRoutes);\n\n    function /*@ngInject*/handleRoutes($rootScope, $state) {\n        $rootScope.$on('$stateChangeError', function (event, toState, toParams, fromState, fromParams, error) {\n            // We can catch the error thrown when the $requireSignIn promise is rejected\n            // and redirect the user back to the home page\n            if (error === 'AUTH_REQUIRED') {\n                $state.go('login');\n            }\n        });\n    }\n\n    function /*@ngInject*/routeSetup($stateProvider, $urlRouterProvider) {\n        //$urlRouterProvider.otherwise('/home');\n\n        $urlRouterProvider.otherwise('/home');\n\n        $stateProvider.state('home', {\n            url: '/home',\n            controller: 'HomeController',\n            templateUrl: 'Pages/Home/home.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$requireSignIn();\n                }]\n            }\n        }).state('login', {\n            url: '/login',\n            controller: 'LoginController',\n            templateUrl: 'Pages/Login/login.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$waitForSignIn();\n                }]\n            }\n        }).state('home.account', {\n            url: '/account',\n            controller: 'AccountController',\n            templateUrl: 'Pages/Account/account.tmpl.html'\n        }).state('home.users', {\n            url: '/users',\n            abstract: true,\n            controller: 'UserController',\n            template: '<ui-view />'\n        }).state('home.users.list', {\n            url: '/',\n            templateUrl: 'Pages/Users/list.tmpl.html'\n        }).state('home.users.add', {\n            url: '/users',\n            templateUrl: 'Pages/Users/add-user.tmpl.html'\n        }).state('home.orders', {\n            url: '/orders',\n            abstract: true,\n            controller: 'OrdersController',\n            template: '<ui-view />'\n        }).state('home.orders.list', {\n            url: '/',\n            templateUrl: 'Pages/Orders/orders.tmpl.html'\n        }).state('home.orders.add', {\n            url: '/add',\n            controller: 'OrderController',\n            templateUrl: 'Pages/Orders/add-order.tmpl.html'\n        }).state('home.orders.edit', {\n            url: '/edit/:id',\n            controller: 'OrderController',\n            templateUrl: 'Pages/Orders/add-order.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$waitForSignIn();\n                }]\n            }\n        }).state('home.orders.order', {\n            url: '/:id',\n            controller: 'OrderController',\n            templateUrl: 'Pages/Orders/order.tmpl.html',\n            resolve: {\n                'currentAuth': /*@ngInject*/[\"Auth\", function (Auth) {\n                    return Auth.$waitForSignIn();\n                }]\n            }\n        }).state('home.orders.order.details', {\n            templateUrl: 'Pages/Orders/order.details.tmpl.html'\n        }).state('home.orders.order.materials', {\n            templateUrl: 'Pages/Orders/order.materials.tmpl.html'\n        }).state('home.orders.order.time', {\n            templateUrl: 'Pages/Orders/order.time.tmpl.html'\n        });\n    }\n})();\n","'use strict';\n\n(function () {\n    angular.module('App.Components', ['App.Components.Uploader']);\n})();\n","'use strict';\n\n(function () {\n\n    confettiDirective.$inject = [\"$timeout\"];\n    angular.module('App.Components.Confetti', ['app.templates']).directive('confetti', confettiDirective);\n\n    function /*@ngInject*/confettiDirective($timeout) {\n\n        var directive = {\n            restrict: 'E',\n            templateUrl: 'Components/Confetti/confetti.tpl.html',\n            link: link,\n            scope: {\n                duration: '@'\n            }\n        };\n\n        function link(scope, element, attr) {\n\n            scope.duration = scope.duration || 800;\n\n            //@see http://jsfiddle.net/Javalsu/vxP5q/743/?utm_source=website&utm_medium=embed&utm_campaign=vxP5q\n\n            // globals\n            var canvas;\n            var ctx;\n            var W;\n            var H;\n            var mp = 100; //max particles\n            var particles = [];\n            var angle = 0;\n            var tiltAngle = 0;\n            var confettiActive = true;\n            var animationComplete = true;\n            var deactivationTimerHandler;\n            var reactivationTimerHandler;\n            var animationHandler;\n\n            // objects\n\n            var particleColors = {\n                colorOptions: [\n                //Nordea colors\n                '#3AC1A3', '#FFE27C', '#FF5757', '#97CDFF', '#2C97FF', '#0000FF'],\n\n                colorIndex: 0,\n                colorIncrementer: 0,\n\n                getColor: function getColor() {\n                    if (this.colorIncrementer >= 10) {\n                        this.colorIncrementer = 0;\n                        this.colorIndex++;\n                        if (this.colorIndex >= this.colorOptions.length) {\n                            this.colorIndex = 0;\n                        }\n                    }\n                    this.colorIncrementer++;\n                    return this.colorOptions[this.colorIndex];\n                }\n            };\n\n            function confettiParticle(color) {\n\n                this.x = Math.random() * W; // x-coordinate\n                this.y = Math.random() * H - H; //y-coordinate\n                this.r = RandomFromTo(10, 30); //radius;\n                this.d = Math.random() * mp + 10; //density;\n                this.color = color;\n                this.tilt = Math.floor(Math.random() * 10) - 10;\n                this.tiltAngleIncremental = Math.random() * 0.07 + .05;\n                this.tiltAngle = 0;\n\n                this.draw = function () {\n                    ctx.beginPath();\n                    ctx.lineWidth = this.r / 2;\n                    ctx.strokeStyle = this.color;\n                    ctx.moveTo(this.x + this.tilt + this.r / 4, this.y);\n                    ctx.lineTo(this.x + this.tilt, this.y + this.tilt + this.r / 4);\n                    return ctx.stroke();\n                };\n            }\n\n            function SetGlobals() {\n                canvas = document.querySelectorAll('.confetti')[0];\n                ctx = canvas.getContext(\"2d\");\n                W = window.innerWidth;\n                H = window.innerHeight;\n                canvas.width = W;\n                canvas.height = H;\n            }\n\n            function InitializeConfetti() {\n                particles = [];\n                animationComplete = false;\n                for (var i = 0; i < mp; i++) {\n                    var particleColor = particleColors.getColor();\n                    particles.push(new confettiParticle(particleColor));\n                }\n                StartConfetti();\n            }\n\n            function Draw() {\n                ctx.clearRect(0, 0, W, H);\n                var results = [];\n                for (var i = 0; i < mp; i++) {\n                    (function (j) {\n                        results.push(particles[j].draw());\n                    })(i);\n                }\n                Update();\n\n                return results;\n            }\n\n            function RandomFromTo(from, to) {\n                return Math.floor(Math.random() * (to - from + 1) + from);\n            }\n\n            function Update() {\n                var remainingFlakes = 0;\n                var particle;\n                angle += 0.01;\n                tiltAngle += 0.1;\n\n                for (var i = 0; i < mp; i++) {\n                    particle = particles[i];\n                    if (animationComplete) return;\n\n                    if (!confettiActive && particle.y < -15) {\n                        particle.y = H + 100;\n                        continue;\n                    }\n\n                    stepParticle(particle, i);\n\n                    if (particle.y <= H) {\n                        remainingFlakes++;\n                    }\n                    CheckForReposition(particle, i);\n                }\n\n                if (remainingFlakes === 0) {\n                    StopConfetti();\n                }\n            }\n\n            function CheckForReposition(particle, index) {\n                if ((particle.x > W + 20 || particle.x < -20 || particle.y > H) && confettiActive) {\n                    if (index % 5 > 0 || index % 2 == 0) //66.67% of the flakes\n                        {\n                            repositionParticle(particle, Math.random() * W, -10, Math.floor(Math.random() * 10) - 10);\n                        } else {\n                        if (Math.sin(angle) > 0) {\n                            //Enter from the left\n                            repositionParticle(particle, -5, Math.random() * H, Math.floor(Math.random() * 10) - 10);\n                        } else {\n                            //Enter from the right\n                            repositionParticle(particle, W + 5, Math.random() * H, Math.floor(Math.random() * 10) - 10);\n                        }\n                    }\n                }\n            }\n\n            function stepParticle(particle, particleIndex) {\n                particle.tiltAngle += particle.tiltAngleIncremental;\n                particle.y += (Math.cos(angle + particle.d) + 3 + particle.r / 2) / 2;\n                particle.x += Math.sin(angle);\n                particle.tilt = Math.sin(particle.tiltAngle - particleIndex / 3) * 15;\n            }\n\n            function repositionParticle(particle, xCoordinate, yCoordinate, tilt) {\n                particle.x = xCoordinate;\n                particle.y = yCoordinate;\n                particle.tilt = tilt;\n            }\n\n            function StartConfetti() {\n                W = window.innerWidth;\n                H = window.innerHeight;\n                canvas.width = W;\n                canvas.height = H;\n                (function animloop() {\n                    if (animationComplete) return null;\n                    animationHandler = requestAnimFrame(animloop);\n                    return Draw();\n                })();\n            }\n\n            function ClearTimers() {\n                clearTimeout(reactivationTimerHandler);\n                clearTimeout(animationHandler);\n            }\n\n            //Deactivates confetti and lets it drift out of the screen\n            function DeactivateConfetti() {\n                confettiActive = false;\n                ClearTimers();\n            }\n\n            /**\n            * Stops confetti and removes it\n            */\n            function StopConfetti() {\n                animationComplete = true;\n                if (ctx === undefined) {\n                    return;\n                }\n                ctx.clearRect(0, 0, W, H);\n            }\n\n            window.requestAnimFrame = function () {\n                return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n                    return window.setTimeout(callback, 1000 / 60);\n                };\n            }();\n\n            //Kick start the party!\n            angular.element(document).ready(function () {\n\n                SetGlobals();\n                InitializeConfetti();\n\n                $timeout(function () {\n                    DeactivateConfetti();\n                }, scope.duration);\n            });\n        }\n\n        return directive;\n    }\n})();\n","'use strict';\n\n(function () {\n\n    uploaderDirective.$inject = [\"$timeout\"];\n    angular.module('App.Components.Uploader', []).directive('uploader', uploaderDirective);\n\n    function /*@ngInject*/uploaderDirective($timeout) {\n        var storage = firebase.storage();\n\n        // Create a storage reference from our storage service\n        var storageRef = storage.ref();\n        var imagesRef = storageRef.child('images');\n\n        var directive = {\n            restrict: 'A',\n            link: link,\n            scope: {\n                uploader: '&'\n            }\n        };\n\n        function link(scope, element, attr) {\n            console.log('link');\n            element[0].addEventListener('change', handleFiles.bind(this, scope.uploader), false);\n        }\n\n        function handleFiles(callback, event) {\n            var fileList = event.target.files; /* now you can work with the file list */\n\n            var _loop = function _loop() {\n                file = fileList[i];\n\n                var thumbnaildata = '';\n\n                new Thumbnail({\n                    maxWidth: 200,\n                    maxHeight: 200,\n                    file: file,\n                    onSuccess: function onSuccess(data) {\n                        thumbnaildata = data;\n                    }\n                }).createThumbnail();\n\n                var ref = imagesRef.child(file.name);\n                ref.put(file).then(function (snapshot) {\n                    callback()(snapshot, thumbnaildata, file.name, ref);\n                });\n            };\n\n            for (var i = 0; i < fileList.length; i++) {\n                var file;\n\n                _loop();\n            }\n        }\n\n        return directive;\n    }\n\n    function Thumbnail(options) {\n        this.options = {\n            file: options.file,\n            maxWidth: options.maxWidth || 120,\n            maxHeight: options.maxHeight || 120,\n            onError: options.onError && options.onError.bind(this),\n            onSuccess: options.onSuccess && options.onSuccess.bind(this)\n        };\n    };\n\n    Thumbnail.prototype.detectVerticalSquash = function (elem) {\n        if (elem.naturalHeight === undefined) {\n            return 1;\n        }\n        var alpha, canvas, ctx, data, ey, ih, py, ratio, sy;\n        ih = elem.naturalHeight;\n        canvas = document.createElement('canvas');\n        canvas.width = 1;\n        canvas.height = ih;\n        ctx = canvas.getContext('2d');\n        ctx.drawImage(elem, 0, 0);\n        data = ctx.getImageData(0, 0, 1, ih).data;\n        sy = 0;\n        ey = ih;\n        py = ih;\n        while (py > sy) {\n            alpha = data[(py - 1) * 4 + 3];\n            if (alpha === 0) {\n                ey = py;\n            } else {\n                sy = py;\n            }\n            py = ey + sy >> 1;\n        }\n        ratio = py / ih;\n        if (ratio === 0) {\n            return 1;\n        } else {\n            return ratio;\n        }\n    };\n\n    Thumbnail.prototype.createThumbnail = function () {\n        if (this.options.file.type.match(/image.*/)) {\n            this.createThumbnailFromImageFile();\n        } else if (this.options.file.type.match(/video.*/)) {\n            this.createThumbnailFromVideoFile();\n        } else if (this.options.onError) {\n            this.options.onError();\n        }\n    };\n\n    Thumbnail.prototype.createThumbnailFromImageFile = function () {\n        var fileReader = new FileReader();\n        fileReader.addEventListener('load', function () {\n            this.createThumbnailFromUrl(fileReader.result);\n        }.bind(this));\n        fileReader.readAsDataURL(this.options.file);\n    };\n\n    Thumbnail.prototype.createThumbnailFromVideoFile = function () {\n        this.createVideoThumbnailFromUrl(URL.createObjectURL(this.options.file));\n    };\n\n    Thumbnail.prototype.createVideoThumbnailFromUrl = function (videoUrl) {\n        var canPlay, videoElem;\n        videoElem = document.createElement('video');\n        videoElem.style = 'display: none';\n        document.body.appendChild(videoElem);\n        canPlay = videoElem.canPlayType(this.options.file.type);\n        if (canPlay === 'no' || canPlay === '') {\n            if (this.options.onError) {\n                this.options.onError();\n            }\n            return;\n        }\n        videoElem.addEventListener('loadeddata', function () {\n            if (this.options.onSuccess) {\n                this.options.onSuccess(this.getThumbnailDataURL(videoElem, videoElem.videoWidth, videoElem.videoHeight));\n            }\n            document.body.removeChild(videoElem);\n        }.bind(this), false);\n        videoElem.addEventListener('error', function () {\n            if (this.options.onError) {\n                this.options.onError();\n            }\n            document.body.removeChild(videoElem);\n        }.bind(this), false);\n        videoElem.src = videoUrl;\n    };\n\n    Thumbnail.prototype.createThumbnailFromUrl = function (imageUrl, crossOrigin) {\n        var imageElem = document.createElement('img');\n        if (crossOrigin) {\n            imageElem.crossOrigin = crossOrigin;\n        }\n        if (this.options.onSuccess) {\n            imageElem.onload = function () {\n                this.options.onSuccess(this.getThumbnailDataURL(imageElem, imageElem.width, imageElem.height));\n            }.bind(this);\n        }\n        if (this.options.onError) {\n            imageElem.onerror = this.options.onError;\n        }\n        imageElem.src = imageUrl;\n    };\n\n    Thumbnail.prototype.getResizeInformation = function (srcWidth, srcHeight) {\n        var info = {\n            srcX: 0,\n            srcY: 0,\n            srcWidth: srcWidth,\n            srcHeight: srcHeight,\n            trgWidth: undefined,\n            trgHeight: undefined\n        };\n        var srcRatio = srcWidth / srcHeight;\n        var optWidth = this.options.maxWidth;\n        var optHeight = this.options.maxHeight;\n        if (!optWidth && !optHeight) {\n            optWidth = info.srcWidth;\n            optHeight = info.srcHeight;\n        } else if (!optWidth) {\n            optWidth = srcRatio * optHeight;\n        } else if (!optHeight) {\n            optHeight = 1 / srcRatio * optWidth;\n        }\n        var trgRatio = optWidth / optHeight;\n        if (srcHeight < optHeight || srcWidth < optWidth) {\n            // this code fails if only one src is below opt\n            info.trgHeight = info.srcHeight;\n            info.trgWidth = info.srcWidth;\n        } else {\n            if (srcRatio > trgRatio) {\n                info.srcHeight = srcHeight;\n                info.srcWidth = info.srcHeight * trgRatio;\n            } else {\n                info.srcWidth = srcWidth;\n                info.srcHeight = info.srcWidth / trgRatio;\n            }\n        }\n        info.srcX = (srcWidth - info.srcWidth) / 2;\n        info.srcY = (srcHeight - info.srcHeight) / 2;\n        if (info.trgWidth === undefined) {\n            info.trgWidth = optWidth;\n        }\n        if (info.trgHeight === undefined) {\n            info.trgHeight = optHeight;\n        }\n        return info;\n    };\n\n    Thumbnail.prototype.getThumbnailDataURL = function (elem, elemWidth, elemHeight) {\n        var vertSquashRatio = this.detectVerticalSquash(elem);\n        var info = this.getResizeInformation(elemWidth, elemHeight);\n        var canvas = document.createElement('canvas');\n        canvas.width = info.trgWidth;\n        canvas.height = info.trgHeight;\n        canvas.getContext('2d').drawImage(elem, info.srcX, info.srcY, info.srcWidth, info.srcHeight, 0, 0, info.trgWidth, info.trgHeight / vertSquashRatio);\n        return canvas.toDataURL('image/png');\n    };\n})();\n","'use strict';\n\n(function () {\n    angular.module('App.Filters', ['App.Filters.Minutes', 'App.Filters.ToDate']);\n})();\n","'use strict';\n\n(function () {\n\n    angular.module('App.Filters.Minutes', []).filter('minutes', minutes);\n\n    function /*@ngInject*/minutes() {\n\n        return function (val) {\n\n            if (!val) {\n                return '00:00';\n            }\n\n            return Math.floor(val / 60).toString().padStart(2, '0') + ':' + (val % 60).toString().padStart(2, '0');\n        };\n    }\n\n    return minutes;\n})();\n","'use strict';\n\n(function () {\n\n    angular.module('App.Filters.ToDate', []).filter('todate', minutes);\n\n    function /*@ngInject*/minutes() {\n\n        return function (val) {\n\n            if (!val) {\n                return '';\n            }\n\n            return new Date(val);\n        };\n    }\n\n    return minutes;\n})();\n","\"use strict\";\n\n(function () {\n    accountController.$inject = [\"$scope\", \"$state\", \"Auth\"];\n    angular.module('App').controller('AccountController', accountController);\n\n    function /*@ngInject*/accountController($scope, $state, Auth) {\n        $scope.firebaseUser = Auth.$getAuth();\n\n        console.log($scope.firebaseUser);\n\n        $scope.signout = function () {\n            Auth.$signOut();\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    HomeController.$inject = [\"$scope\", \"$state\", \"Auth\", \"$mdSidenav\", \"Users\"];\n    angular.module('App').controller('HomeController', HomeController);\n\n    function /*@ngInject*/HomeController($scope, $state, Auth, $mdSidenav, Users) {\n        $scope.firebaseUser = Auth.$getAuth();\n\n        Users.$loaded().then(function (x) {\n            var user = Users.find(function (user) {\n                return user.uid === $scope.firebaseUser.uid;\n            });\n            $scope.username = user.name;\n        });\n\n        $scope.toggleNavigation = function () {\n            $mdSidenav('left').toggle();\n        };\n\n        $scope.signout = function () {\n            Auth.$signOut().then(function () {\n                $state.go('login');\n            });\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    loginController.$inject = [\"$scope\", \"$state\", \"Auth\"];\n    angular.module('App').controller('LoginController', loginController);\n\n    function /*@ngInject*/loginController($scope, $state, Auth) {\n        console.log(Auth);\n        $scope.createUser = function () {\n            $scope.message = null;\n            $scope.error = null;\n\n            // Create a new user\n            Auth.$createUserWithEmailAndPassword($scope.email, $scope.password).then(function (firebaseUser) {\n                $scope.message = \"User created with uid: \" + firebaseUser.uid;\n            }).catch(function (error) {\n                $scope.error = error;\n            });\n        };\n        $scope.login = function () {\n            $scope.message = null;\n            $scope.error = null;\n\n            // Create a new user\n            Auth.$signInWithEmailAndPassword($scope.email, $scope.password).then(function (firebaseUser) {\n                $state.go('home');\n            }).catch(function (error) {\n                $scope.error = error;\n            });\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    orderController.$inject = [\"$q\", \"$scope\", \"$state\", \"$http\", \"$stateParams\", \"Orders\", \"Auth\", \"Users\"];\n    angular.module('App').controller('OrderController', orderController);\n\n    var timelist = [];\n\n    for (var i = 0; i < 48; i++) {\n        var minutes = (i % 2 * 30).toString().padStart(2, '0');\n        var hour = Math.floor(i / 2).toString().padStart(2, '0');\n        timelist.push({ title: hour + ':' + minutes, minutes: i * 30 });\n    }\n\n    function /*@ngInject*/orderController($q, $scope, $state, $http, $stateParams, Orders, Auth, Users) {\n        $scope.orders = Orders;\n        $scope.timelist = timelist;\n        $scope.addrSearch = {};\n        $scope.currentNavItem = 'details';\n\n        var addressParts = ['vejnavne', 'adgangsadresser', 'adresser'];\n        var partIndex = 0;\n        var materials = [];\n        var currentUser = Auth.$getAuth();\n\n        function getMaterials() {\n            $scope.orders.forEach(function (order) {\n                order.materials.forEach(function (material) {\n                    if (materials.indexOf(material.name) === -1) {\n                        materials.push(material.name);\n                    }\n                });\n            });\n        }\n\n        $scope.materialSearch = function (query) {\n            var results = query ? materials.filter(createFilterFor(query)) : materials;\n            return results;\n        };\n\n        function createFilterFor(query) {\n            var lowercaseQuery = angular.lowercase(query);\n\n            return function filterFn(material) {\n                return material.indexOf(lowercaseQuery) === 0;\n            };\n        }\n\n        $scope.selectAddress = function () {\n            partIndex = partIndex == addressParts.length - 1 ? 0 : partIndex + 1;\n\n            if ($scope.addrSearch.selectedItem.adresse) {\n                $scope.orders.address = $scope.addrSearch.selectedItem.text;\n            }\n        };\n\n        $scope.querySearch = function (txt) {\n            var addressPart = addressParts[partIndex];\n\n            var request = {\n                url: 'http://dawa.aws.dk/' + addressPart + '/autocomplete',\n                method: 'GET',\n                params: {\n                    q: txt\n                }\n            };\n\n            var deferred = $q.defer();\n            $http(request).then(function (response) {\n                deferred.resolve(response.data);\n            });\n\n            return deferred.promise;\n        };\n\n        if ($stateParams.id) {\n            Orders.$loaded().then(function (x) {\n                getMaterials();\n                $scope.order = Orders.$getRecord($stateParams.id); // record with $id === \"foo\" or null;\n\n                if ($scope.order.startdate) {\n                    $scope.order.startdate = new Date($scope.order.startdate);\n                }\n                if ($scope.order.enddate) {\n                    $scope.order.enddate = new Date($scope.order.enddate);\n                }\n            });\n        } else {\n            $scope.order = {};\n        }\n\n        $scope.saveOrder = function () {\n            // prepare data\n            if ($scope.order.startdate && typeof $scope.order.startdate !== 'string') {\n                $scope.order.startdate = $scope.order.startdate.toString();\n            }\n            if ($scope.order.enddate && typeof $scope.order.enddate !== 'string') {\n                $scope.order.enddate = $scope.order.enddate.toString();\n            }\n\n            if ($scope.order.$id === undefined) {\n                Orders.$add($scope.order);\n                $state.go('^.list');\n            } else {\n                Orders.$save($scope.order);\n                $state.go('^.order', { id: $scope.order.$id });\n            }\n        };\n\n        $scope.deleteOrder = function () {\n            Orders.$remove($scope.order);\n            $state.go('^.list');\n        };\n\n        $scope.newmaterial = {\n            name: '',\n            amount: 0\n        };\n\n        $scope.addMaterial = function () {\n            $scope.newmaterial.name = $scope.newmaterial.name || $scope.newmaterial.materialSearchText;\n            delete $scope.newmaterial.materialSearchText;\n\n            if (!$scope.newmaterial.name || $scope.newmaterial.amount <= 0) {\n                return;\n            }\n\n            if (!$scope.order.materials) {\n                $scope.order.materials = [];\n            }\n\n            $scope.order.materials.push($scope.newmaterial);\n            Orders.$save($scope.order).then(function () {\n                $scope.newmaterial = {};\n            });\n        };\n\n        $scope.deleteMaterial = function (index) {\n            $scope.order.materials.splice(index, 1);\n            Orders.$save($scope.order);\n        };\n\n        $scope.newtimereg = {\n            date: new Date(),\n            time: 60,\n            description: ''\n\n        };\n\n        $scope.addTimereg = function () {\n\n            if ($scope.newtimereg.time <= 0) {\n                return;\n            }\n\n            $scope.newtimereg.user = currentUser.uid;\n\n            if (!$scope.order.timeregistrations) {\n                $scope.order.timeregistrations = [];\n            }\n\n            if ($scope.newtimereg.date && typeof $scope.newtimereg.date !== 'string') {\n                $scope.newtimereg.date = $scope.newtimereg.date.toString();\n            }\n\n            $scope.order.timeregistrations.push($scope.newtimereg);\n            Orders.$save($scope.order).then(function () {\n                $scope.newtimereg = {\n                    date: new Date(),\n                    time: 0,\n                    description: ''\n                };\n            });\n        };\n\n        $scope.deleteTimereg = function (index) {\n            $scope.order.timeregistrations.splice(index, 1);\n            Orders.$save($scope.order);\n        };\n\n        $scope.getUsername = function (uid) {\n            var user = Users.find(function (user) {\n                return user.uid === uid;\n            });\n\n            return user ? user.name : '----';\n        };\n\n        $scope.onFileUploaded = function (snapshot, thumbnaildata) {\n            if (!$scope.order.files) {\n                $scope.order.files = [];\n            }\n\n            $scope.order.files.push({\n                url: snapshot.downloadUrl,\n                thumbnail: thumbnaildata\n            });\n\n            console.log(snapshot, thumbnaildata);\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    ordersController.$inject = [\"$scope\", \"$state\", \"Orders\"];\n    angular.module('App').controller('OrdersController', ordersController);\n\n    function /*@ngInject*/ordersController($scope, $state, Orders) {\n        $scope.orders = Orders;\n\n        $scope.addOrder = function () {\n            $state.go('^.add');\n        };\n\n        $scope.openOrder = function (order) {\n            $state.go('^.order.details', { id: order.$id });\n        };\n    }\n})();\n","\"use strict\";\n\n(function () {\n    userController.$inject = [\"$scope\", \"$state\", \"Auth\", \"Users\"];\n    angular.module('App').controller('UserController', userController);\n\n    function /*@ngInject*/userController($scope, $state, Auth, Users) {\n        $scope.currentUser = Auth.$getAuth().uid;\n\n        console.log(Users);\n\n        $scope.users = Users;\n\n        $scope.user = {};\n\n        $scope.addUser = function () {\n            $state.go('^.add');\n        };\n\n        $scope.createUser = function () {\n            $scope.message = null;\n            $scope.error = null;\n\n            // Create a new user\n            Auth.$createUserWithEmailAndPassword($scope.user.email, $scope.user.password).then(function (firebaseUser) {\n                $scope.message = \"User created with uid: \" + firebaseUser.uid;\n                var userObj = {\n                    name: $scope.user.name,\n                    email: $scope.user.email,\n                    uid: firebaseUser.uid\n                };\n\n                Users.$add(userObj);\n                $scope.user = {};\n\n                firebaseUser.updateProfile({ displayName: $scope.user.name });\n\n                $state.go('^.list');\n            }).catch(function (error) {\n                $scope.error = error;\n            });\n        };\n\n        $scope.delete = function (user) {};\n    }\n})();\n","'use strict';\n\n(function () {\n  auth.$inject = [\"$firebaseAuth\"];\n  angular.module('App.Services.Auth', []).factory('Auth', auth);\n\n  function /*@ngInject*/auth($firebaseAuth) {\n    return $firebaseAuth();\n  }\n})();\n","'use strict';\n\n(function () {\n    orders.$inject = [\"$firebaseArray\"];\n    angular.module('App.Services.Orders', []).factory('Orders', orders);\n\n    function /*@ngInject*/orders($firebaseArray) {\n        var ref = firebase.database().ref().child('orders');\n        return $firebaseArray(ref);\n    }\n})();\n","'use strict';\n\n(function () {\n    angular.module('App.Services', ['App.Services.Auth', 'App.Services.Orders', 'App.Services.Users']);\n})();\n","'use strict';\n\n(function () {\n    users.$inject = [\"$firebaseArray\"];\n    angular.module('App.Services.Users', []).factory('Users', users);\n\n    function /*@ngInject*/users($firebaseArray) {\n        var ref = firebase.database().ref().child('users');\n        return $firebaseArray(ref);\n    }\n})();\n"]}